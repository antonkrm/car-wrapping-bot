# Инструкция по установке Car Wrapping Bot на Windows Server 2019

## Подготовка сервера

1. Убедитесь, что на вашем Windows Server 2019 установлен Python 3.8 или выше.
   - Если Python не установлен, скачайте и установите с официального сайта: https://www.python.org/downloads/
   - Во время установки обязательно поставьте галочку "Add Python to PATH"

2. Убедитесь, что сервер доступен по RDP (Remote Desktop Protocol).

## Подключение к серверу

1. Подключитесь к вашему Windows Server 2019 через RDP.

## Установка бота

1. Откройте командную строку (cmd) или PowerShell от имени администратора.

2. Установите Git, если он еще не установлен:
   - Скачайте Git с официального сайта: https://git-scm.com/download/win
   - Установите с настройками по умолчанию

3. Клонируйте репозиторий бота:
   ```cmd
   git clone https://github.com/antonkrm/car-wrapping-bot.git
   cd car-wrapping-bot
   ```

4. Создайте виртуальное окружение:
   ```cmd
   python -m venv venv
   ```

5. Активируйте виртуальное окружение:
   ```cmd
   venv\Scripts\activate
   ```

6. Установите зависимости:
   ```cmd
   pip install -r requirements.txt
   ```

## Настройка конфигурации

1. Создайте файл `config.py` в текстовом редакторе (например, Блокнот):
   ```python
   BOT_TOKEN = "ваш_токен_бота"
   ADMIN_PASSWORD = "ваш_пароль_администратора"
   ```

2. Замените `ваш_токен_бота` на токен вашего Telegram бота, а `ваш_пароль_администратора` на желаемый пароль для доступа к админским функциям.

3. Сохраните файл в кодировке UTF-8 в папке бота под именем `config.py`.

## Инициализация базы данных

1. Запустите скрипт инициализации базы данных:
   ```cmd
   python init_db.py
   ```

## Запуск бота

1. Для запуска бота выполните:
   ```cmd
   python bot.py
   ```

## Настройка автоматического запуска (опционально)

Для автоматического запуска бота при старте сервера:

1. Создайте bat-файл `start_bot.bat` со следующим содержимым:
   ```bat
   @echo off
   cd /d C:\path\to\car-wrapping-bot
   venv\Scripts\activate
   python bot.py
   ```

2. Замените `C:\path\to\car-wrapping-bot` на реальный путь к папке бота.

3. Настройте планировщик заданий Windows (Task Scheduler) для запуска этого bat-файла при старте системы:
   - Откройте "Планировщик заданий" (Task Scheduler)
   - Создайте новую задачу
   - В качестве действия выберите запуск созданного bat-файла
   - Настройте триггер для запуска при старте системы

## Обслуживание

Для остановки бота нажмите Ctrl+C в консоли, где он запущен.

Для перезапуска бота:
1. Остановите бот (если запущен)
2. Запустите заново: `python bot.py`
